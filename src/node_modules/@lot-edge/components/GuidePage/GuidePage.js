import React from 'react'
import Panel from '@lot-edge/components/Panel'

import './GuidePage.css'

const COLORS = [
  [212, 127, 166],
  [138, 86, 172],
  [95, 69, 151]
]

export default function GuidePage({ categories, onCategoryChange, destinations }) {
  return <div className='guide-page'>
    {
      destinations.map(({
        title,
        description,
        image,
        friends,
      }, index) => {
        const color = 'white'
        const [r, g, b] = COLORS[index % 3]
        return (
          <React.Fragment key={title}>
            <Panel className='overlapping friends' background={`rgb(${r}, ${g}, ${b})`}>
              <p style={{ color }}>They have also been in {title}</p>
              {friends.map((f, i) => <img key={i} className='avatar' src={f.avatar} alt={f.name} />)}
            </Panel>
            <Panel className='overlapping destination-photo' background={`url(${image})`} color={color}>
              <Panel background={`rgb(${r}, ${g}, ${b}, 0.7)`} color='white'>
                <h2>{title}</h2>
                <p>{description}</p>
              </Panel>
            </Panel>
          </React.Fragment>
        )
      })
    }
    <Panel className='title' background='white' color='black'>
      <h1>Explore directions</h1>
      <div>
        <select>
          {categories.map(category => (
            <option
              key={category}
              value={category}
              onClick={() => onCategoryChange(category)}
            >{category}</option>
          ))}
        </select>
      </div>
    </Panel>
  </div>
}